<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>キャンパスカーシェア予約</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- 上部バー -->
  <header class="topbar">
    <button id="menuBtn" class="icon-btn" aria-label="メニューを開く">
      ☰
    </button>
    <h1 class="app-title">キャンパスカーシェア予約</h1>
    <div class="spacer"></div>
  </header>

  <!-- サイドメニュー -->
  <aside id="sideMenu" class="side-menu">
    <div class="side-menu-header">
      <div class="user-name" id="sideUserName">ログインしていません</div>
      <button id="closeMenu" class="icon-btn" aria-label="メニューを閉じる">×</button>
    </div>
    <div class="side-menu-content">
      <div class="side-menu-block">
        <h3 class="side-menu-heading">メニュー</h3>
        <ul class="side-menu-list">
          <li>マイページ（ダミー）</li>
          <li>ログアウトはリロードしてください</li>
        </ul>
      </div>
      <div class="side-menu-block">
        <h3 class="side-menu-heading">予約一覧</h3>
        <ul id="sideReservationList" class="side-reservations" aria-live="polite">
          <li>まだ予約がありません。</li>
        </ul>
      </div>
    </div>
  </aside>
  <div id="overlay" class="overlay"></div>

  <!-- ログイン画面 -->
  <main id="page-login" class="page active login-page">
    <div class="login-wrapper">
      <form id="loginForm" class="card login-card">
        <div class="login-brand">
          <img src="img/logo.png" alt="NISSIN GROUP" class="login-logo" />
        </div>
        <h2 class="login-title">ログイン</h2>
        <p class="login-description">
         学籍番号とパスワードを入力してください。
        </p>
        <label for="studentId" class="login-label">学籍番号</label>
        <input
          type="text"
          id="studentId"
          placeholder="例: c000000"
          autocomplete="username"
          required
        />
     <label for="password" class="login-label">パスワード</label>
        <div class="login-password-field">
          <input
            type="password"
            id="password"
            placeholder="例: 000000"
            autocomplete="current-password"
            required
          />
          <span class="login-password-icon" aria-hidden="true">👁</span>
        </div>
        <a href="#" class="login-link">パスワードをお忘れですか？</a>
        <button id="btnLogin" type="submit" class="btn primary login-submit">続ける</button>
        <p id="loginMessage" class="message"></p>
        <p class="login-footer">
          アカウントが未登録ですか？
          <a href="#" class="login-link">アカウントの作成</a>
        </p>
      </form>
    </div>
  </main>

  <!-- キャンパス選択 -->
  <main id="page-campus" class="page">
    <div class="card">
      <h2 id="campusHeading">キャンパスを選択</h2>
      <p class="note">利用するキャンパスをタップして選んでください。</p>
      <div
        id="campusList"
        class="campus-list"
        role="list"
        aria-labelledby="campusHeading"
      ></div>
      <p
        id="selectedCampus"
        class="selected-campus"
        aria-live="polite"
        role="status"
      >
        キャンパスをまだ選択していません。
      </p>
      <button id="btnCampusNext" class="btn primary" disabled>日時を選択</button>
    </div>
  </main>

  <!-- 日時選択 -->
  <main id="page-reserve" class="page">
    <div class="card schedule-card">
      <div class="schedule-header">
        <button id="btnBackToCampus" type="button" class="link-btn">← キャンパスを選び直す</button>
        <div class="schedule-chip" aria-live="polite">
          <span id="reserveCampusName" class="chip-name">キャンパス未選択</span>
          <span id="reserveCampusDistance" class="chip-distance"></span>
        </div>
      </div>
      <div class="schedule-intro">
        <h2>利用日時を選択</h2>
        <p class="note">終了時刻のあと30分は自動でブロックされます。</p>
      </div>
      <div class="schedule-layout">
        <section id="reserveCampusSummary" class="schedule-summary" aria-live="polite">
          <p class="schedule-summary-empty">キャンパス情報がここに表示されます。</p>
        </section>
        <section class="schedule-fields">
          <div class="field">
            <label>
              <span class="field-label">日付</span>
              <input type="date" id="reserveDate" />
            </label>
          </div>
          <div class="field field-group">
            <label>
              <span class="field-label">開始時刻</span>
              <select id="startTime"></select>
            </label>
            <label>
              <span class="field-label">終了時刻（利用する時間の終わり）</span>
              <select id="endTimeUser"></select>
            </label>
          </div>
          <div class="field">
            <button id="btnCheck" type="button" class="btn">空き状況を確認</button>
            <div id="checkResult" class="message"></div>
          </div>
          <div class="field">
            <button id="btnReserve" type="button" class="btn primary">この内容で予約</button>
            <div id="reserveMessage" class="message"></div>
          </div>
        </section>
      </div>
      <section class="schedule-reservations">
        <h3>その日の予約一覧</h3>
        <ul id="reservationList" class="list"></ul>
      </section>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>
